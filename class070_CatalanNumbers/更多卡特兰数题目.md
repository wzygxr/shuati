# 更多卡特兰数相关题目整理

## 1. 洛谷 (Luogu)

### P1044 [NOIP2003 普及组] 栈
- **题目描述**：给定1到n的操作数序列，计算通过栈操作能得到的输出序列总数
- **链接**：https://www.luogu.com.cn/problem/P1044
- **解题思路**：经典的出栈序列问题，答案为第n项卡特兰数

### P1976 鸡蛋饼
- **题目描述**：在圆上有2N个不同的点，用N条线段连接这些点，使所有线段不相交的方案数
- **链接**：https://www.luogu.com.cn/problem/P1976
- **解题思路**：圆上连线问题，答案为第n项卡特兰数

### P1722 矩阵 II
- **题目描述**：1×2n的矩阵中放入红色算筹和黑色算筹，使任意前缀中红色算筹数≥黑色算筹数
- **链接**：https://www.luogu.com.cn/problem/P1722
- **解题思路**：合法的01序列问题，答案为第n项卡特兰数

### P1641 [SCOI2010] 生成字符串
- **题目描述**：n个1和m个0组成字符串，任意前k个字符中1的个数≥0的个数
- **链接**：https://www.luogu.com.cn/problem/P1641
- **解题思路**：卡特兰数变形问题，当n=m时为标准卡特兰数

### P2532 [AHOI2012] 树屋阶梯
- **题目描述**：搭建高度为N的阶梯的方法数
- **链接**：https://www.luogu.com.cn/problem/P2532
- **解题思路**：阶梯搭建问题，答案为第n项卡特兰数

### P3200 [HNOI2009] 有趣的数列
- **题目描述**：长度为2n的数列满足特定条件的排列数
- **链接**：https://www.luogu.com.cn/problem/P3200
- **解题思路**：有趣的数列问题，答案为第n项卡特兰数

### P3978 [TJOI2015] 概率论
- **题目描述**：随机生成的n个结点有根二叉树的叶子节点数期望
- **链接**：https://www.luogu.com.cn/problem/P3978
- **解题思路**：卡特兰数在概率论中的应用

### P1375 小猫
- **题目描述**：2n只小猫站成一圈，两两配对且绳子不交叉的方案数
- **链接**：https://www.luogu.com.cn/problem/P1375
- **解题思路**：圆上连线问题，答案为第n项卡特兰数

## 2. LeetCode

### 22. Generate Parentheses (括号生成)
- **题目描述**：生成所有可能的有效括号组合
- **链接**：https://leetcode.com/problems/generate-parentheses/
- **解题思路**：括号生成问题，第n项卡特兰数表示方案数

### 96. Unique Binary Search Trees (不同的二叉搜索树)
- **题目描述**：计算n个节点能构成的不同二叉搜索树数量
- **链接**：https://leetcode.com/problems/unique-binary-search-trees/
- **解题思路**：二叉搜索树计数问题，答案为第n项卡特兰数

### 95. Unique Binary Search Trees II (不同的二叉搜索树II)
- **题目描述**：生成所有可能的不同二叉搜索树结构
- **链接**：https://leetcode.com/problems/unique-binary-search-trees-ii/
- **解题思路**：二叉搜索树构造问题

### 1259. Handshakes That Don't Cross (手牵手问题)
- **题目描述**：计算圆桌上2n个人握手且不交叉的方法数
- **链接**：https://leetcode.com/problems/handshakes-that-dont-cross/
- **解题思路**：手牵手问题，答案为第n项卡特兰数

## 3. Vijos

### P1122 出栈序列统计
- **题目描述**：计算n个元素的出栈序列总数
- **链接**：https://www.vijos.org/p/1122
- **解题思路**：出栈序列问题，答案为第n项卡特兰数

## 4. POJ

### 2084 Game of Connections
- **题目描述**：2*n个点围成圆圈，连线配对且不相交的方法数
- **链接**：http://poj.org/problem?id=2084
- **解题思路**：圆上连线问题，答案为第n项卡特兰数

## 5. HDU

### 1023 Train Problem II
- **题目描述**：计算n个火车的出栈序列总数
- **链接**：http://acm.hdu.edu.cn/showproblem.php?pid=1023
- **解题思路**：出栈序列问题，需要高精度计算第n项卡特兰数

## 6. UVa

### 991 Safe Salutations
- **题目描述**：2n个人围成圆圈，握手配对且不相交的方法数
- **链接**：https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&page=show_problem&problem=932
- **解题思路**：安全握手问题，答案为第n项卡特兰数

## 7. HackerEarth

### Catalan Numbers 1
- **题目描述**：计算第n项卡特兰数
- **链接**：https://www.hackerearth.com/problem/algorithm/catalan-numbers-1/
- **解题思路**：直接计算卡特兰数

## 8. 牛客网 (NowCoder)

### NC146 括号生成
- **题目描述**：括号匹配问题
- **解题思路**：括号生成问题，答案为第n项卡特兰数

### NC14672 括号匹配
- **题目描述**：括号匹配计数问题
- **解题思路**：括号匹配问题，答案为第n项卡特兰数

### NC20652 出栈序列
- **题目描述**：出栈序列统计问题
- **解题思路**：出栈序列问题，答案为第n项卡特兰数

## 9. 51Nod

### 1174 卡特兰数
- **题目描述**：卡特兰数计算
- **解题思路**：直接计算第n项卡特兰数

## 10. Codeforces

### 相关问题
- **题目描述**：与卡特兰数相关的组合问题
- **解题思路**：卡特兰数变形问题

## 11. AtCoder

### 相关问题
- **题目描述**：与卡特兰数相关的排列问题
- **解题思路**：卡特兰数变形问题

## 12. SPOJ

### CARD - Catalan Numbers
- **题目描述**：卡特兰数计算
- **解题思路**：高精度计算卡特兰数

## 13. SGU

### 161 Convex Polygon
- **题目描述**：凸多边形三角划分
- **解题思路**：凸多边形三角划分问题，答案为第n-2项卡特兰数

## 卡特兰数常见应用场景总结

1. **括号匹配问题**：n对括号的正确匹配方案数
2. **出栈序列问题**：n个元素的出栈序列数量
3. **二叉树计数问题**：n个节点能构成的不同二叉树结构数
4. **凸多边形三角划分**：将一个凸n+2边形通过不相交的对角线划分为三角形的方法数
5. **路径计数问题**：在n×n的网格中，从(0,0)到(n,n)且不穿过对角线y=x的单调路径数
6. **圆上连线问题**：圆上2n个点，将这些点成对连接起来使得所得到的n条线段不相交的方法数
7. **投票问题**：在选举中，候选人A得到n张票，候选人B得到m张票（n>m），A始终领先B的计票方式数
8. **矩阵链乘问题**：n个矩阵相乘，不同的计算顺序数目
9. **合法的01序列**：给定n个0和n个1，能够满足任意前缀序列中0的个数都不少于1的个数的序列数目

## 卡特兰数公式

1. **递推公式1**：
   ```
   C(0) = 1
   C(n) = Σ(i=0 to n-1) C(i) * C(n-1-i)  (n≥1)
   ```
   - 时间复杂度：O(n²)
   - 空间复杂度：O(n)

2. **递推公式2**：
   ```
   C(0) = 1
   C(n) = C(n-1) * (4*n-2) / (n+1)  (n≥1)
   ```
   - 时间复杂度：O(n)
   - 空间复杂度：O(1)

3. **组合公式1**：
   ```
   C(n) = C(2n, n) / (n+1)
   ```
   - 时间复杂度：O(n)
   - 空间复杂度：O(n)

4. **组合公式2**：
   ```
   C(n) = C(2n, n) - C(2n, n-1)
   ```
   - 时间复杂度：O(n)
   - 空间复杂度：O(n)