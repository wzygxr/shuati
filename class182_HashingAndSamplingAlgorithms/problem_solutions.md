# 字符串哈希算法题目详解与实现

## 1. P3370 【模板】字符串哈希（洛谷）

### 题目描述
给定 N 个字符串，请求出其中有多少个不同的字符串。

### 解题思路
这是字符串哈希的模板题。通过将每个字符串映射为一个整数（哈希值），我们可以快速比较两个字符串是否相等。对于每个字符串，我们计算其哈希值并存储在集合中，最后集合的大小即为不同字符串的个数。

### 字符串哈希原理
字符串哈希通过将字符串看作一个P进制数来计算哈希值，公式为：
```
hash(s) = (s[0]*P^(n-1) + s[1]*P^(n-2) + ... + s[n-1]*P^0) mod M
```
其中P通常选择一个质数（如31、131等），M也是一个大质数。

## 2. P2870 [USACO07DEC] Best Cow Line G（洛谷）

### 题目描述
从原队列的首端或尾端牵出一头奶牛，将她安排到新队列尾部，求能排出的字典序最小的队列。

### 解题思路
这是一道贪心题，可以使用字符串哈希优化比较过程。在每一步，我们需要比较剩余字符串的前缀和后缀的字典序大小。通过预处理字符串哈希，我们可以O(1)时间比较两个子串的大小。

## 3. P2249 【深基13.例1】查找（洛谷）

### 题目描述
在单调不减序列中查找元素第一次出现的位置。

### 解题思路
这道题更适合用二分查找解决，时间复杂度O(log n)。虽然可以用字符串哈希解决，但不是最优解。

## 4. P3975 [TJOI2015] 弦论（洛谷）

### 题目描述
求字符串中第k小子串。

### 解题思路
这道题可以使用后缀数组或后缀自动机解决。字符串哈希可以用于验证结果，但不是主要解法。

## 5. 187. 重复的DNA序列（LeetCode）

### 题目描述
找出DNA分子中所有出现不止一次的长度为10的序列。

### 解题思路
使用滑动窗口和字符串哈希。维护一个长度为10的滑动窗口，计算每个子串的哈希值，用哈希表统计出现次数。

### 字符串哈希应用
通过滚动哈希技术，我们可以在O(1)时间内计算下一个子串的哈希值：
```
new_hash = (old_hash * P - s[i] * P^k + s[i+k]) mod M
```

## 6. 1044. 最长重复子串（LeetCode）

### 题目描述
找出字符串中最长的重复子串。

### 解题思路
结合二分查找和字符串哈希。二分枚举子串长度，对于每个长度使用字符串哈希检查是否存在重复子串。

### 算法优化
通过二分查找将问题复杂度从O(n^2)优化到O(n log n)。

## 7. 2156. 查找给定哈希值的子串（LeetCode）

### 题目描述
查找满足特定哈希值的子串。

### 解题思路
使用滑动窗口和字符串哈希。维护一个长度为k的滑动窗口，计算每个子串的哈希值并与目标值比较。

### 数学优化
通过数学变换，可以在O(1)时间内更新哈希值，避免重复计算。

## 8. 1316. 不同的循环子字符串（LeetCode）

### 题目描述
找出所有可以写成a+a形式的子串。

### 解题思路
枚举所有偶数长度的子串，使用字符串哈希检查前半部分和后半部分是否相等。

### 哈希优化
通过预处理前缀哈希，可以在O(1)时间内比较两个子串是否相等。

## 9. 28. 找出字符串中第一个匹配项的下标（LeetCode）

### 题目描述
在haystack中查找needle第一次出现的位置。

### 解题思路
虽然可以用KMP算法解决，但字符串哈希也是一种解法。计算needle的哈希值，然后在haystack中滑动长度为len(needle)的窗口，比较哈希值。

### 算法对比
KMP算法时间复杂度O(n+m)，字符串哈希平均时间复杂度也是O(n+m)，但有碰撞风险。