# 区间动态规划补充题目清单

本文件整理了与class077中区间动态规划问题相关的更多练习题目，来源于各大算法平台。

## 📚 按平台分类的补充题目

### LeetCode (力扣)

#### 1. LeetCode 312. 戳气球
- **题目链接**: https://leetcode.cn/problems/burst-balloons/
- **难度**: 困难
- **类型**: 区间DP
- **题目描述**: 有 n 个气球，编号为0 到 n - 1，每个气球上都标有一个数字，这些数字存在数组 nums 中。现在要求你戳破所有的气球。戳破第 i 个气球，可以获得 nums[i - 1] * nums[i] * nums[i + 1] 枚硬币。
- **解题思路**: 区间DP，逆向思考，考虑最后戳破哪个气球。

#### 2. LeetCode 1000. 合并石头的最低成本
- **题目链接**: https://leetcode.cn/problems/minimum-cost-to-merge-stones/
- **难度**: 困难
- **类型**: 区间DP
- **题目描述**: 有N 堆石头排成一排，第i 堆中有 stones[i] 块石头。每次移动（move）需要将连续的 K 堆石头合并为一堆，而这个移动的成本为这 K 堆石头的总数。
- **解题思路**: 区间DP，状态设计需要考虑剩余堆数。

#### 3. LeetCode 132. 分割回文串 II
- **题目链接**: https://leetcode.cn/problems/palindrome-partitioning-ii/
- **难度**: 困难
- **类型**: 区间DP + 预处理
- **题目描述**: 给你一个字符串 s，请你将 s 分割成一些子串，使每个子串都是回文串。返回符合要求的 最少分割次数 。
- **解题思路**: 先预处理回文串，再用区间DP求解。

#### 4. LeetCode 1547. 切棍子的最小成本
- **题目链接**: https://leetcode.cn/problems/minimum-cost-to-cut-a-stick/
- **难度**: 困难
- **类型**: 区间DP
- **题目描述**: 有一根长度为n的木棍，我们需要把它切成k段。给定一个整数数组cuts，其中cuts[i]表示将木棍切开的位置。每次切割的成本是当前要切割的木棍的长度。
- **解题思路**: 区间DP，考虑切割点的顺序。

#### 5. LeetCode 1039. 多边形三角剖分的最低得分
- **题目链接**: https://leetcode.cn/problems/minimum-score-triangulation-of-polygon/
- **难度**: 中等
- **类型**: 区间DP
- **题目描述**: 给定一个凸多边形，顶点按顺时针顺序标记为A[0], A[1], ..., A[n-1]。对于每个三角形，计算三个顶点标记的乘积，然后将所有三角形的乘积相加。
- **解题思路**: 区间DP，枚举顶点进行三角剖分。

#### 6. LeetCode 664. 奇怪的打印机
- **题目链接**: https://leetcode.cn/problems/strange-printer/
- **难度**: 困难
- **类型**: 区间DP
- **题目描述**: 打印机有以下两个特殊要求：每次打印一个字符序列；每次可以打印任意数量的相同字符。
- **解题思路**: 区间DP，考虑字符覆盖的情况。

#### 7. LeetCode 1246. 删除回文子数组
- **题目链接**: https://leetcode.cn/problems/palindrome-removal/
- **难度**: 困难
- **类型**: 区间DP
- **题目描述**: 给定一个整数数组arr，每次可以选择并删除一个回文子数组，求删除所有数字的最少操作次数。
- **解题思路**: 区间DP结合回文判断。

### POJ (Peking University Online Judge)

#### 8. POJ 1141. Brackets Sequence
- **题目链接**: http://poj.org/problem?id=1141
- **难度**: 中等
- **类型**: 区间DP + 构造
- **题目描述**: 给定一个括号序列，可能包含'('、')'、'['、']'，要求添加最少的括号使其成为合法的括号序列，并输出字典序最小的合法序列。
- **解题思路**: 区间DP，需要记录路径来构造结果。

#### 9. POJ 2955. Brackets
- **题目链接**: http://poj.org/problem?id=2955
- **难度**: 中等
- **类型**: 区间DP
- **题目描述**: 给定一个括号序列，求最长的合法括号子序列。
- **解题思路**: 区间DP，类似最长回文子序列。

#### 10. POJ 1390. Blocks
- **题目链接**: http://poj.org/problem?id=1390
- **难度**: 困难
- **类型**: 区间DP + 状态压缩
- **题目描述**: 有n个块排成一行，每个块有一种颜色。每次可以消除连续的同色块，得分为k*k，其中k是消除的块数。
- **解题思路**: 区间DP，需要额外状态记录右边连续的同色块数量。

### UVa (University of Valladolid Online Judge)

#### 11. UVa 10003. Cutting Sticks
- **题目链接**: https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=12&page=show_problem&problem=944
- **难度**: 中等
- **类型**: 区间DP
- **题目描述**: 有一根长l的木棍，有n个切割点要把这根木棍切成n+1段，知道n个切割点的位置。切割一段长度为d的木棍需要的花费为d。
- **解题思路**: 区间DP，类似于石子合并问题。

#### 12. UVa 1626. Brackets sequence
- **题目链接**: https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=24&page=show_problem&problem=4636
- **难度**: 中等
- **类型**: 区间DP
- **题目描述**: 与POJ 1141类似，添加最少括号使序列合法。
- **解题思路**: 区间DP，构造解。

### ZOJ (Zhejiang University Online Judge)

#### 13. ZOJ 3537. Cake
- **题目链接**: https://zoj.pintia.cn/problem-sets/91827364500/problems/91827364867
- **难度**: 困难
- **类型**: 区间DP + 凸包
- **题目描述**: 给定一些点表示多边形蛋糕的顶点位置，判断是否为凸包，如果是凸包，用不相交的线切割这个凸包使得凸包只由三角形组成，使得切割成本最小。
- **解题思路**: 先判断凸包，再用区间DP进行最优三角剖分。

### AtCoder

#### 14. AtCoder Educational DP Contest N - Slimes
- **题目链接**: https://atcoder.jp/contests/dp/tasks/dp_n
- **难度**: 中等
- **类型**: 区间DP
- **题目描述**: n个史莱姆排成一排，每次合并相邻两个史莱姆，合并成本为两个史莱姆大小之和，求最小合并成本。
- **解题思路**: 经典区间DP，石子合并问题。

### 洛谷

#### 15. 洛谷 P1880 [NOI1995] 石子合并
- **题目链接**: https://www.luogu.com.cn/problem/P1880
- **难度**: 中等
- **类型**: 区间DP
- **题目描述**: 在一个圆形操场的四周摆放N堆石子，现要将石子有次序地合并成一堆，规定每次只能选相邻的2堆合并成新的一堆，并将新的一堆的石子数，记为该次合并的得分。
- **解题思路**: 区间DP，环形处理。

#### 16. 洛谷 P3146 [USACO16OPEN] 248
- **题目链接**: https://www.luogu.com.cn/problem/P3146
- **难度**: 中等
- **类型**: 区间DP
- **题目描述**: 给一个1,2,3组成的数字序列，每次可以将相邻且相同的数合并，合并后的数字+1，求能够得到的最大数字。
- **解题思路**: 区间DP，状态表示区间能合并成的最大数字。

#### 17. 洛谷 P1063 能量项链
- **题目链接**: https://www.luogu.com.cn/problem/P1063
- **难度**: 中等
- **类型**: 区间DP
- **题目描述**: 在项链上有N颗能量珠，每颗能量珠有一个头标记和尾标记，合并两颗相邻珠子可获得能量，求最大能量。
- **解题思路**: 区间DP，环形处理。

### Codeforces

#### 18. Codeforces 149D. Coloring Brackets
- **题目链接**: https://codeforces.com/problemset/problem/149/D
- **难度**: 困难
- **类型**: 区间DP + 括号匹配
- **题目描述**: 给一个合法的括号序列，要求给括号染色，相邻括号颜色不同，匹配括号颜色相同或不同。
- **解题思路**: 区间DP结合括号匹配和颜色约束。

### SPOJ

#### 19. SPOJ MIXTURES
- **题目链接**: https://www.spoj.com/problems/MIXTURES/
- **难度**: 中等
- **类型**: 区间DP
- **题目描述**: 有n种化学物质，每次混合相邻两种物质会产生烟雾，烟雾量等于两种物质的乘积，求最小烟雾量。
- **解题思路**: 经典区间DP问题，类似于石子合并。

### HackerRank

#### 20. HackerRank Sherlock and Cost
- **题目链接**: https://www.hackerrank.com/challenges/sherlock-and-cost/problem
- **难度**: 中等
- **类型**: 区间DP优化
- **题目描述**: 给定数组B，构造数组A使得每个A[i]在1到B[i]之间，最大化相邻元素差的绝对值之和。
- **解题思路**: 使用滚动数组优化空间复杂度。

## 🧠 解题思路与技巧

### 核心思想
区间动态规划的核心是将大问题分解为子区间问题，通过枚举分割点来组合最优解。

### 状态转移方程模板
```java
// 基本模板
dp[i][j] = optimal(dp[i][k] + dp[k+1][j] + cost)

// 特殊情况处理
// 1. 两端匹配情况
if (match(s[i], s[j])) {
    dp[i][j] = min(dp[i][j], dp[i+1][j-1] + cost)
}

// 2. 区间合并优化
dp[i][j] = min(dp[i][k] + dp[k+1][j] + sum[i][j])
```

### 时间复杂度优化策略
1. **四边形不等式优化**: 某些区间DP问题可以优化到O(n²)
2. **滚动数组优化**: 将空间复杂度从O(n²)优化到O(n)
3. **前缀和优化**: 快速计算区间和

### 空间复杂度优化
- 使用滚动数组减少空间占用
- 按对角线顺序计算避免存储整个矩阵

## 🎯 工程化实践要点

### 1. 异常处理
```java
// 输入验证
if (nums == null || nums.length == 0) {
    return 0; // 或抛出异常
}

// 边界条件检查
if (n < 2) {
    // 特殊处理小规模情况
}
```

### 2. 性能优化策略
- **预处理优化**: 提前计算辅助信息
- **剪枝优化**: 利用问题特性减少计算
- **记忆化搜索**: 递归+记忆化替代迭代DP

### 3. 代码可读性提升
- 使用有意义的变量名
- 添加详细的注释说明状态含义
- 模块化设计，分离预处理和DP计算

## 📈 常见应用场景

### 1. 字符串处理类
- 最长回文子序列
- 括号匹配问题
- 编辑距离问题
- 字符串分段问题

### 2. 数组操作类
- 石子合并问题
- 戳气球问题
- 矩阵链乘法
- 木棍切割问题

### 3. 图形问题类
- 多边形三角剖分
- 最优二叉搜索树
- 图形分割问题

### 4. 游戏策略类
- 预测赢家问题
- 取石子游戏
- 卡片游戏策略

## 📊 复杂度分析总结

| 问题类型 | 时间复杂度 | 空间复杂度 | 是否最优 |
|---------|-----------|-----------|---------|
| 基本区间DP | O(n³) | O(n²) | 是 |
| 四边形不等式优化 | O(n²) | O(n²) | 是 |
| 滚动数组优化 | O(n³) | O(n) | 是 |
| 记忆化搜索 | O(n³) | O(n²) | 是 |