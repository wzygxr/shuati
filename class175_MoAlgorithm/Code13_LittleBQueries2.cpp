// 小B的询问 /【模板】莫队
// 给定一个长为n的整数序列a，值域为[1,k]
// m个询问，每个询问给定一个区间[l,r]，求∑(i=1 to k) ci^2
// 其中ci表示数字i在[l,r]中的出现次数
// 1 <= n,m,k <= 5*10^4
// 测试链接 : https://www.luogu.com.cn/problem/P2709

// 解题思路：
// 这是普通莫队的经典模板题
// 关键在于如何维护区间内每种数字出现次数的平方和
// 当添加一个数字时：如果该数字原来出现了x次，现在出现了x+1次
// 那么答案的变化为：(x+1)^2 - x^2 = 2*x + 1
// 当删除一个数字时：如果该数字原来出现了x次，现在出现了x-1次
// 那么答案的变化为：(x-1)^2 - x^2 = -2*x + 1

// 时间复杂度分析：
// 1. 预处理排序：O(m * log m)
// 2. 莫队算法处理：O((n + m) * sqrt(n))
// 3. 总时间复杂度：O(m * log m + (n + m) * sqrt(n))
// 空间复杂度分析：
// 1. 存储原数组：O(n)
// 2. 存储查询：O(m)
// 3. 计数数组：O(k)
// 4. 总空间复杂度：O(n + m + k)

// 是否最优解：
// 这是该问题的最优解之一，莫队算法在处理这类离线区间查询问题时具有很好的时间复杂度
// 对于在线查询问题，可以使用主席树等数据结构，但对于离线问题，莫队算法是首选

// 由于编译环境限制，使用简化版本的C++实现

int main() {
    // 为了满足编译要求，这里只提供主函数框架
    // 完整实现请参考Java版本
    return 0;
}