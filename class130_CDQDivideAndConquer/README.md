## CDQ分治题目列表

以下是与CDQ分治相关的题目列表，涵盖多个平台的经典题目：

### 洛谷 (Luogu)
1. [P3810 【模板】三维偏序（陌上花开）](https://www.luogu.com.cn/problem/P3810)
   标签: CDQ分治, 三维偏序 | 难度: 提高+/省选-

2. [P3157 [CQOI2011]动态逆序对](https://www.luogu.com.cn/problem/P3157)
   标签: CDQ分治, 动态逆序对 | 难度: 省选/NOI-

3. [P2163 [SHOI2007]园丁的烦恼](https://www.luogu.com.cn/problem/P2163)
   标签: CDQ分治, 二维数点 | 难度: 省选/NOI-

4. [P3755 [CQOI2017]老C的任务](https://www.luogu.com.cn/problem/P3755)
   标签: CDQ分治, 二维数点 | 难度: 提高+/省选-

5. [P4390 [BOI2007]Mokia 摩基亚](https://www.luogu.com.cn/problem/P4390)
   标签: CDQ分治, 二维数点 | 难度: 省选/NOI-

6. [P4169 [Violet]天使玩偶/SJY摆棋子](https://www.luogu.com.cn/problem/P4169)
   标签: CDQ分治, 最近点对 | 难度: 省选/NOI-

7. [P4093 [HEOI2016/TJOI2016]序列](https://www.luogu.com.cn/problem/P4093)
   标签: CDQ分治, 三维偏序 | 难度: 省选/NOI-

8. [P5094 [USACO04OPEN] MooFest G](https://www.luogu.com.cn/problem/P5094)
   标签: CDQ分治, 二维数点 | 难度: 省选/NOI-

9. [P2345 [USACO04OPEN] MooFest G](https://www.luogu.com.cn/problem/P2345)
   标签: CDQ分治, 二维数点 | 难度: 省选/NOI-

10. [P5621 [DBOI2019]德丽莎世界第一可爱](https://www.luogu.com.cn/problem/P5621)
    标签: CDQ分治, 四维偏序 | 难度: 省选/NOI-

### LeetCode (力扣)
11. [315. 计算右侧小于当前元素的个数](https://leetcode.cn/problems/count-of-smaller-numbers-after-self/)
    标签: CDQ分治, 分治 | 难度: 困难

12. [493. 翻转对](https://leetcode.cn/problems/reverse-pairs/)
    标签: CDQ分治, 分治 | 难度: 困难

13. [327. 区间和的个数](https://leetcode.cn/problems/count-of-range-sum/)
    标签: CDQ分治, 分治 | 难度: 困难

14. [1835. 所有数对按位与结果的异或和](https://leetcode.cn/problems/find-xor-sum-of-all-pairs-bitwise-and/)
    标签: CDQ分治, 位运算 | 难度: 困难

### Codeforces
15. [Educational Codeforces Round 91 E. Merging Towers](https://codeforces.com/contest/1380/problem/E)
    标签: CDQ分治, 分治 | 难度: 2400

16. [Codeforces Round #295 (Div. 1) D. Birthday](https://codeforces.com/problemset/problem/528/D)
    标签: CDQ分治, 字符串 | 难度: 3000

17. [CF1045G AI robots](https://codeforces.com/problemset/problem/1045/G)
    标签: CDQ分治, 二维数点 | 难度: 2200

18. [CF848C Goodbye Souvenir](https://codeforces.com/problemset/problem/848/C)
    标签: CDQ分治, 二维数点 | 难度: 2600

19. [Codeforces Round #310 (Div. 1) C. Case of Chocolate](https://codeforces.com/problemset/problem/555/C)
    标签: CDQ分治, 离线处理 | 难度: 2100

### UVA
20. [UVA11990 ''Dynamic'' Inversion](https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=226&page=show_problem&problem=3141)
    标签: CDQ分治, 动态逆序对 | 难度: 困难

### AtCoder
21. [AtCoder Grand Contest 029 F. Construction of a tree](https://atcoder.jp/contests/agc029/tasks/agc029_f)
    标签: CDQ分治, 图论 | 难度: 2200

22. [AtCoder Beginner Contest 185 F. Range Xor Query](https://atcoder.jp/contests/abc185/tasks/abc185_f)
    标签: CDQ分治, 位运算 | 难度: 2000

### BZOJ
23. [BZOJ3295 动态逆序对](https://hydro.ac/d/bzoj/p/3295)
    标签: CDQ分治, 动态逆序对 | 难度: 省选

24. [BZOJ3263 陌上花开](https://hydro.ac/d/bzoj/p/3263)
    标签: CDQ分治, 三维偏序 | 难度: 省选

### 牛客
25. [牛客小白月赛23 E. 牛牛的树](https://ac.nowcoder.com/acm/contest/4784/E)
    标签: CDQ分治, 树链剖分 | 难度: 困难

### HDU
26. [HDU4866 Shooting](https://acm.hdu.edu.cn/showproblem.php?pid=4866)
    标签: CDQ分治, 二维偏序 | 难度: 中等

### POJ
27. [POJ3585 Accumulation Degree](https://poj.org/problem?id=3585)
    标签: CDQ分治, 树形DP | 难度: 中等

## CDQ分治算法详解

1. [P3810 【模板】三维偏序（陌上花开）](https://www.luogu.com.cn/problem/P3810) - 洛谷
   标签: CDQ分治, 三维偏序 | 难度: 提高+/省选-

2. [P3157 [CQOI2011]动态逆序对](https://www.luogu.com.cn/problem/P3157) - 洛谷
   标签: CDQ分治, 动态逆序对 | 难度: 省选/NOI-

3. [P2163 [SHOI2007]园丁的烦恼](https://www.luogu.com.cn/problem/P2163) - 洛谷
   标签: CDQ分治, 二维数点 | 难度: 省选/NOI-

4. [P3755 [CQOI2017]老C的任务](https://www.luogu.com.cn/problem/P3755) - 洛谷
   标签: CDQ分治, 二维数点 | 难度: 提高+/省选-

5. [P4390 [BOI2007]Mokia 摩基亚](https://www.luogu.com.cn/problem/P4390) - 洛谷
   标签: CDQ分治, 二维数点 | 难度: 省选/NOI-

6. [P4169 [Violet]天使玩偶/SJY摆棋子](https://www.luogu.com.cn/problem/P4169) - 洛谷
   标签: CDQ分治, 最近点对 | 难度: 省选/NOI-

7. [P4093 [HEOI2016/TJOI2016]序列](https://www.luogu.com.cn/problem/P4093) - 洛谷
   标签: CDQ分治, 三维偏序 | 难度: 省选/NOI-

8. [P5094 [USACO04OPEN] MooFest G](https://www.luogu.com.cn/problem/P5094) - 洛谷
   标签: CDQ分治, 二维数点 | 难度: 省选/NOI-

9. [315. 计算右侧小于当前元素的个数](https://leetcode.cn/problems/count-of-smaller-numbers-after-self/) - LeetCode
   标签: CDQ分治, 分治 | 难度: 困难

10. [493. 翻转对](https://leetcode.cn/problems/reverse-pairs/) - LeetCode
    标签: CDQ分治, 分治 | 难度: 困难

11. [327. 区间和的个数](https://leetcode.cn/problems/count-of-range-sum/) - LeetCode
    标签: CDQ分治, 分治 | 难度: 困难

12. [Educational Codeforces Round 91 E. Merging Towers](https://codeforces.com/contest/1380/problem/E) - Codeforces
    标签: CDQ分治, 分治 | 难度: 2400

13. [Codeforces Round #295 (Div. 1) D. Birthday](https://codeforces.com/problemset/problem/528/D) - Codeforces
    标签: CDQ分治, 字符串 | 难度: 3000

14. [UVA11990 ''Dynamic'' Inversion](https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=226&page=show_problem&problem=3141) - UVA
    标签: CDQ分治, 动态逆序对 | 难度: 困难

15. [AtCoder Grand Contest 029 F. Construction of a tree](https://atcoder.jp/contests/agc029/tasks/agc029_f) - AtCoder
    标签: CDQ分治, 图论 | 难度: 2200

16. [P2345 [USACO04OPEN] MooFest G](https://www.luogu.com.cn/problem/P2345) - 洛谷
    标签: CDQ分治, 二维数点 | 难度: 省选/NOI-

17. [P5621 [DBOI2019]德丽莎世界第一可爱](https://www.luogu.com.cn/problem/P5621) - 洛谷
    标签: CDQ分治, 四维偏序 | 难度: 省选/NOI-

18. [CF1045G AI robots](https://codeforces.com/problemset/problem/1045/G) - Codeforces
    标签: CDQ分治, 二维数点 | 难度: 2200

19. [CF848C Goodbye Souvenir](https://codeforces.com/problemset/problem/848/C) - Codeforces
    标签: CDQ分治, 二维数点 | 难度: 2600

## CDQ分治算法详解

### 算法原理

CDQ分治是一种解决多维偏序问题的离线算法，由陈丹琦提出。它通过分治的思想将高维偏序问题降维处理。

核心思想：
1. 将问题按照某一维进行排序，消除这一维的影响
2. 使用分治处理剩下的维度
3. 在分治的合并过程中，计算左半部分对右半部分的贡献

### 三维偏序问题

三维偏序是最经典的CDQ分治应用场景。给定n个三元组(a_i, b_i, c_i)，对于每个i，计算满足a_j ≤ a_i且b_j ≤ b_i且c_j ≤ c_i且j ≠ i的j的个数。

解决步骤：
1. 按照第一维a排序
2. CDQ分治处理第二维b
3. 在合并过程中使用树状数组处理第三维c

时间复杂度：O(n log² n)

### 动态逆序对问题

动态逆序对问题要求在删除元素的过程中，实时维护序列中的逆序对数量。

解决方法：
1. 将删除操作转化为时间维度
2. 使用CDQ分治处理时间、位置和数值三个维度
3. 分别计算每个删除操作对逆序对数量的影响

### CDQ分治与其他算法的比较

相比于其他解决多维偏序问题的方法：
1. 相比于线段树套线段树，CDQ分治空间复杂度更优
2. 相比于平衡树，CDQ分治实现更简单
3. 相比于KD树，CDQ分治在特定问题上更高效

### 实现要点

1. 正确处理相同元素的情况
2. 合理设计树状数组的维护策略
3. 注意分治边界条件
4. 在合并过程中正确清空数据结构

## 已实现题目列表

以下题目已在本目录中提供了完整的Java、C++、Python三种语言的实现：

1. [315. 计算右侧小于当前元素的个数](https://leetcode.cn/problems/count-of-smaller-numbers-after-self/) - LeetCode
   - Java实现: Problem315.计算右侧小于当前元素的个数.java
   - C++实现: 315.计算右侧小于当前元素的个数.cpp
   - Python实现: 315.计算右侧小于当前元素的个数.py

2. [493. 翻转对](https://leetcode.cn/problems/reverse-pairs/) - LeetCode
   - Java实现: Problem493.翻转对.java
   - C++实现: 493.翻转对.cpp
   - Python实现: 493.翻转对.py

3. [327. 区间和的个数](https://leetcode.cn/problems/count-of-range-sum/) - LeetCode
   - Java实现: Problem327.区间和的个数.java
   - C++实现: 327.区间和的个数.cpp
   - Python实现: 327.区间和的个数.py

4. [P3157 [CQOI2011]动态逆序对](https://www.luogu.com.cn/problem/P3157) - 洛谷
   - Java实现: P3157CQOI2011动态逆序对.java
   - C++实现: P3157CQOI2011动态逆序对.cpp
   - Python实现: P3157CQOI2011动态逆序对.py

5. [P3810 【模板】三维偏序（陌上花开）](https://www.luogu.com.cn/problem/P3810) - 洛谷
   - Java实现: P3810【模板】三维偏序（陌上花开）.java
   - C++实现: P3810【模板】三维偏序（陌上花开）.cpp
   - Python实现: P3810【模板】三维偏序（陌上花开）.py

6. [P2345 [USACO04OPEN] MooFest G](https://www.luogu.com.cn/problem/P2345) - 洛谷
   - Java实现: Code07_MooFest.java
   - C++实现: P2345USACO04OPENMooFestG.cpp
   - Python实现: P2345USACO04OPENMooFestG.py

7. [P5621 [DBOI2019]德丽莎世界第一可爱](https://www.luogu.com.cn/problem/P5621) - 洛谷
   - Java实现: Code08_Delisha.java
   - C++实现: P5621DBOI2019Delisha.cpp
   - Python实现: P5621DBOI2019Delisha.py

8. [CF1045G AI robots](https://codeforces.com/problemset/problem/1045/G) - Codeforces
   - Java实现: Code09_AIRobots.java
   - C++实现: CF1045GAIRobots.cpp
   - Python实现: CF1045GAIRobots.py

9. [CF848C Goodbye Souvenir](https://codeforces.com/problemset/problem/848/C) - Codeforces
   - Java实现: Code10_GoodbyeSouvenir.java
   - C++实现: CF848CGoodbyeSouvenir.cpp
   - Python实现: CF848CGoodbyeSouvenir.py

10. [P4093 [HEOI2016/TJOI2016]序列](https://www.luogu.com.cn/problem/P4093) - 洛谷
    - Java实现: P4093HEOI2016TJOI2016序列.java
    - C++实现: P4093HEOI2016TJOI2016序列.cpp
    - Python实现: P4093HEOI2016TJOI2016序列.py

11. [P3755 [CQOI2017]老C的任务](https://www.luogu.com.cn/problem/P3755) - 洛谷
    - Java实现: P3755CQOI2017老C的任务.java
    - C++实现: P3755CQOI2017老C的任务.cpp
    - Python实现: P3755CQOI2017老C的任务.py