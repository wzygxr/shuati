package class171;

/**
 * 寻找宝藏问题详细解析
 * 
 * 问题描述：
 * 一共有n个宝藏，每个宝藏有a、b、c、d四个属性值，以及拿取之后的收益v
 * 可以选择任意顺序拿取宝藏，每次拿的宝藏的四种属性值都不能小于上次拿的宝藏
 * 打印能获得的最大收益，打印有多少种最佳拿取方法，方法数对 998244353 取余
 * 
 * 解题思路：
 * 1. 这是一个四维偏序问题的动态规划优化，需要同时计算最大值和方案数
 * 2. 状态转移方程：
 *    dp[i] = max(dp[j] + v[i])
 *    cnt[i] = sum(cnt[j])，其中j满足dp[j] + v[i] = dp[i]
 *    条件：j < i且a[j] <= a[i], b[j] <= b[i], c[j] <= c[i], d[j] <= d[i]
 * 3. 暴力解法时间复杂度O(n^2)，需要优化
 * 
 * CDQ分治优化：
 * 1. 将问题转化为四维偏序问题：
 *    - 第一维：属性值a
 *    - 第二维：属性值b
 *    - 第三维：属性值c
 *    - 第四维：属性值d
 * 2. 使用CDQ分治处理：
 *    - 先按照属性值a排序，消除第一维的影响
 *    - 使用CDQ分治处理剩下的三维偏序
 * 3. 在CDQ分治过程中：
 *    - 第一层CDQ处理属性值b的偏序
 *    - 第二层CDQ处理属性值c的偏序
 *    - 使用树状数组维护属性值d的信息，查询前缀最大值和对应的方案数
 *    - 树状数组需要维护最大值和达到最大值的方案数
 * 
 * 时间复杂度：O(n log^3 n)
 * 空间复杂度：O(n)
 */
public class Code06_Treasure1_explanation {
    // 该类仅用于解释说明，不包含实际实现
}