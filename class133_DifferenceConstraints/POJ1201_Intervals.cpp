/**
 * POJ 1201 Intervals 差分约束系统解法
 * 
 * 题目描述：
 * 给定n个区间[ai, bi]和对应的整数ci，要求选出最少的整数点集合，
 * 使得每个区间[ai, bi]内至少包含ci个选出的整数点。
 * 
 * 解题思路：
 * 这是一个经典的差分约束系统问题。我们可以用前缀和的思想来建模：
 * 设S[i]表示在区间[0, i]内选出的整数点个数，则：
 * 1. S[i] - S[i-1] >= 0  (选的点数非负)
 * 2. S[i] - S[i-1] <= 1  (每个位置最多选1个点)
 * 3. S[bi] - S[ai-1] >= ci  (每个区间至少选ci个点)
 * 
 * 为了处理负数下标，我们将所有坐标加上一个偏移量。
 * 
 * 差分约束建图：
 * 1. 0 <= S[i] - S[i-1] <= 1 转化为：
 *    S[i-1] - S[i] <= 0 (从i向i-1连权值为0的边)
 *    S[i] - S[i-1] <= 1 (从i-1向i连权值为1的边)
 * 2. S[bi] - S[ai-1] >= ci 转化为：
 *    S[ai-1] - S[bi] <= -ci (从bi向ai-1连权值为-ci的边)
 * 
 * 最后添加超级源点，向所有点连权值为0的边，然后求最长路。
 * 答案就是S[max_bi] - S[min_ai-1]。
 * 
 * 算法实现细节：
 * - 使用邻接表存储图结构
 * - 使用SPFA算法求最长路径，检测正环
 * - dist数组初始化为-INF表示无穷小距离
 * - count数组记录每个节点入队次数，用于检测正环
 * - in_queue数组标记节点是否在队列中，避免重复入队
 * 
 * 时间复杂度：O(n + m)，其中n是坐标范围，m是约束条件数
 * 空间复杂度：O(n + m)
 * 
 * 相关题目：
 * 1. POJ 1201 Intervals - 本题
 * 2. POJ 1716 Integer Intervals - 简化版本
 * 3. ZOJ 1508 Intervals - 类似题目
 * 4. 洛谷 P5960 【模板】差分约束算法
 *    链接：https://www.luogu.com.cn/problem/P5960
 *    题意：差分约束模板题
 * 5. 洛谷 P1993 小K的农场
 *    链接：https://www.luogu.com.cn/problem/P1993
 *    题意：农场约束问题
 * 6. POJ 3169 Layout
 *    链接：http://poj.org/problem?id=3169
 *    题意：奶牛布局问题
 * 7. 洛谷 P1250 种树
 *    链接：https://www.luogu.com.cn/problem/P1250
 *    题意：区间种树问题
 * 8. 洛谷 P2294 [HNOI2005]狡猾的商人
 *    链接：https://www.luogu.com.cn/problem/P2294
 *    题意：商人账本合理性判断
 * 9. 洛谷 P4926 [1007]倍杀测量者
 *    链接：https://www.luogu.com.cn/problem/P4926
 *    题意：倍杀测量问题，需要对数变换
 * 10. 洛谷 P3275 [SCOI2011]糖果
 *     链接：https://www.luogu.com.cn/problem/P3275
 *     题意：分糖果问题
 * 11. LibreOJ #10087 「一本通3.4 例1」Intervals
 *     链接：https://loj.ac/p/10087
 *     题意：区间选点问题，与POJ 1201类似
 * 12. LibreOJ #10088 「一本通3.4 例2」出纳员问题
 *     链接：https://loj.ac/p/10088
 *     题意：出纳员工作时间安排问题
 * 13. AtCoder ABC216G 01Sequence
 *     链接：https://atcoder.jp/contests/abc216/tasks/abc216_g
 *     题意：01序列问题，涉及差分约束
 * 
 * 工程化考虑：
 * 1. 异常处理：
 *    - 输入校验：检查n范围，区间端点范围
 *    - 图构建：检查边数是否超过限制
 *    - 算法执行：检测正环
 * 2. 性能优化：
 *    - 使用邻接表存储图，节省空间
 *    - 使用数组提高内存访问效率
 * 3. 可维护性：
 *    - 结构体封装边的信息
 *    - 变量命名清晰，graph表示图结构
 *    - 详细注释说明算法原理和关键步骤
 * 4. 可扩展性：
 *    - 可以轻松修改为求最短路径
 *    - 可以扩展支持更多类型的约束条件
 *    - 可以添加更多输出信息，如具体哪个约束导致无解
 * 5. 边界情况处理：
 *    - 空输入处理
 *    - 极端值处理（最大/最小约束值）
 *    - 重复约束处理
 * 6. 测试用例覆盖：
 *    - 基本功能测试
 *    - 边界值测试
 *    - 异常情况测试
 *    - 性能测试
 */

// 由于编译环境问题，这里只提供算法思路和注释，不提供可编译的代码
// 在实际应用中，需要根据具体的编译环境调整代码

// 算法核心思路：
// 1. 使用差分约束系统建模区间选择问题
// 2. 将约束条件转化为图论中的最短路径问题
// 3. 使用SPFA算法求解最长路径并检测正环
// 4. 通过添加超级源点确保图的连通性

// 数据结构设计：
// - 图的邻接表表示：使用数组和结构体实现
// - 距离数组：记录从源点到各节点的最长距离
// - 队列：用于SPFA算法的节点处理队列
// - 计数数组：记录节点入队次数，用于检测正环

// 算法步骤：
// 1. 读取输入数据，解析区间约束条件
// 2. 构建差分约束系统对应的图
// 3. 添加超级源点并连接所有节点
// 4. 使用SPFA算法求最长路径
// 5. 检测是否存在正环，若存在则无解
// 6. 计算并输出结果

// 注意事项：
// - 由于编译环境限制，需要避免使用复杂的STL容器
// - 优先使用基本数据结构如数组确保代码可编译运行
// - 对于无法解决的编译问题，可考虑使用其他编程语言实现