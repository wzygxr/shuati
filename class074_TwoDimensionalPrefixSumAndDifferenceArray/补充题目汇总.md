# 二维前缀和与差分数组补充题目汇总

## 一、LeetCode 相关题目

### 1.1 基础前缀和题目

#### 题目1: Range Sum Query - Immutable (303)
- **题目链接**: https://leetcode.com/problems/range-sum-query-immutable/
- **难度**: Easy
- **核心算法**: 一维前缀和
- **题目描述**: 给定一个整数数组，实现一个类来支持多次查询区间和
- **最优解**: 一维前缀和，查询O(1)，构建O(n)

#### 题目2: Range Sum Query 2D - Immutable (304)
- **题目链接**: https://leetcode.com/problems/range-sum-query-2d-immutable/
- **难度**: Medium
- **核心算法**: 二维前缀和
- **题目描述**: 给定一个二维矩阵，实现一个类来支持多次查询子矩阵和
- **最优解**: 二维前缀和，查询O(1)，构建O(m*n)

#### 题目3: Maximum Side Length of a Square with Sum Less than or Equal to Threshold (1292)
- **题目链接**: https://leetcode.com/problems/maximum-side-length-of-a-square-with-sum-less-than-or-equal-to-threshold/
- **难度**: Medium
- **核心算法**: 二维前缀和 + 二分查找
- **题目描述**: 找到最大的正方形边长，使得正方形内元素和不超过阈值
- **最优解**: 二维前缀和 + 二分查找，时间复杂度O(m*n*log(min(m,n)))

### 1.2 差分数组题目

#### 题目4: Corporate Flight Bookings (1109)
- **题目链接**: https://leetcode.com/problems/corporate-flight-bookings/
- **难度**: Medium
- **核心算法**: 一维差分数组
- **题目描述**: 处理航班预订记录，计算每个航班的座位数
- **最优解**: 差分数组，时间复杂度O(n)

#### 题目5: Range Addition (370)
- **题目链接**: https://leetcode.com/problems/range-addition/
- **难度**: Medium
- **核心算法**: 一维差分数组
- **题目描述**: 给定初始全0数组，执行k次区间加法操作
- **最优解**: 差分数组，时间复杂度O(n+k)

#### 题目6: Increment Submatrices by One (2536)
- **题目链接**: https://leetcode.com/problems/increment-submatrices-by-one/
- **难度**: Medium
- **核心算法**: 二维差分数组
- **题目描述**: 对多个子矩阵执行+1操作，返回最终矩阵
- **最优解**: 二维差分数组，时间复杂度O(k + m*n)

### 1.3 综合应用题目

#### 题目7: Largest 1-Bordered Square (1139)
- **题目链接**: https://leetcode.com/problems/largest-1-bordered-square/
- **难度**: Medium
- **核心算法**: 二维前缀和
- **题目描述**: 找到边界全为1的最大正方形
- **最优解**: 二维前缀和，时间复杂度O(n*m*min(n,m))

#### 题目8: Number of Submatrices That Sum to Target (1074)
- **题目链接**: https://leetcode.com/problems/number-of-submatrices-that-sum-to-target/
- **难度**: Hard
- **核心算法**: 二维前缀和 + 哈希表
- **题目描述**: 计算和为target的子矩阵数量
- **最优解**: 二维前缀和 + 哈希表，时间复杂度O(m²*n)

#### 题目9: Max Sum of Rectangle No Larger Than K (363)
- **题目链接**: https://leetcode.com/problems/max-sum-of-rectangle-no-larger-than-k/
- **难度**: Hard
- **核心算法**: 二维前缀和 + 有序集合
- **题目描述**: 找到不超过k的最大子矩阵和
- **最优解**: 二维前缀和 + 有序集合，时间复杂度O(m²*n*log n)

## 二、其他平台题目

### 2.1 Codeforces 题目

#### 题目10: C. A Cookie for You (1371C)
- **题目链接**: https://codeforces.com/problemset/problem/1371/C
- **难度**: 1400
- **核心算法**: 贪心 + 前缀和思想
- **题目描述**: 分配饼干给两种类型的客人
- **最优解**: 贪心算法，时间复杂度O(1)

#### 题目11: D. Maximum Sum on Even Positions (1373D)
- **题目链接**: https://codeforces.com/problemset/problem/1373/D
- **难度**: 1600
- **核心算法**: 前缀和 + 最大子数组和
- **题目描述**: 通过反转子数组最大化偶数位置的和
- **最优解**: Kadane算法变种，时间复杂度O(n)

### 2.2 AtCoder 题目

#### 题目12: D - AtCoder Express 2 (ABC106D)
- **题目链接**: https://atcoder.jp/contests/abc106/tasks/abc106_d
- **难度**: 400点
- **核心算法**: 二维前缀和
- **题目描述**: 统计满足条件的火车路线数量
- **最优解**: 二维前缀和，时间复杂度O(n²)

#### 题目13: D - Grid Repainting (ABC088D)
- **题目链接**: https://atcoder.jp/contests/abc088/tasks/abc088_d
- **难度**: 400点
- **核心算法**: BFS + 前缀和思想
- **题目描述**: 网格染色问题
- **最优解**: BFS，时间复杂度O(n*m)

### 2.3 HDU/POJ 题目

#### 题目14: HDU 1559 - 最大子矩阵
- **题目链接**: http://acm.hdu.edu.cn/showproblem.php?pid=1559
- **难度**: 中等
- **核心算法**: 二维前缀和
- **题目描述**: 在给定大小的子矩阵中找最大和
- **最优解**: 二维前缀和，时间复杂度O(n*m)

#### 题目15: POJ 1050 - To the Max
- **题目链接**: http://poj.org/problem?id=1050
- **难度**: 中等
- **核心算法**: 二维前缀和 + 最大子数组和
- **题目描述**: 找到二维矩阵中的最大子矩阵和
- **最优解**: 压缩维度 + Kadane算法，时间复杂度O(n³)

#### 题目16: HDU 1081 - To The Max
- **题目链接**: http://acm.hdu.edu.cn/showproblem.php?pid=1081
- **难度**: 中等
- **核心算法**: 二维前缀和
- **题目描述**: 与POJ 1050相同
- **最优解**: 压缩维度 + Kadane算法，时间复杂度O(n³)

### 2.4 洛谷题目

#### 题目17: P1719 - 最大加权矩形
- **题目链接**: https://www.luogu.com.cn/problem/P1719
- **难度**: 普及/提高-
- **核心算法**: 二维前缀和
- **题目描述**: 求最大子矩阵和
- **最优解**: 压缩维度 + 最大子数组和，时间复杂度O(n³)

#### 题目18: P3397 - 地毯
- **题目链接**: https://www.luogu.com.cn/problem/P3397
- **难度**: 普及-
- **核心算法**: 二维差分数组
- **题目描述**: 多次铺地毯，求最终每个位置的地毯层数
- **最优解**: 二维差分数组，时间复杂度O(n² + k)

### 2.5 USACO 题目

#### 题目19: USACO Training - Subset Sums
- **题目链接**: http://www.usaco.org/index.php?page=viewproblem2&cpid=618
- **难度**: Silver
- **核心算法**: 动态规划（前缀和思想）
- **题目描述**: 将集合分成两个和相等的子集
- **最优解**: 动态规划，时间复杂度O(n*sum)

#### 题目20: USACO Training - Painting the Barn
- **题目链接**: http://www.usaco.org/index.php?page=viewproblem2&cpid=923
- **难度**: Gold
- **核心算法**: 二维差分数组 + 扫描线
- **题目描述**: 计算被涂了恰好k层的面积
- **最优解**: 二维差分数组，时间复杂度O(n²)

## 三、题目分类总结

### 3.1 按算法类型分类

#### 一维前缀和应用
- 区间和查询问题（LeetCode 303）
- 滑动窗口统计问题
- 子数组和问题

#### 二维前缀和应用  
- 子矩阵和查询（LeetCode 304）
- 最大子矩阵问题（HDU 1559, POJ 1050）
- 矩阵统计问题

#### 一维差分应用
- 区间更新问题（LeetCode 370, 1109）
- 多次区间操作问题
- 资源分配问题

#### 二维差分应用
- 子矩阵更新问题（LeetCode 2536）
- 多次区域操作问题
- 图像处理中的区域操作

### 3.2 按难度分类

#### 入门级（Easy）
- LeetCode 303: Range Sum Query - Immutable
- 基础的一维前缀和应用

#### 进阶级（Medium）  
- LeetCode 304: Range Sum Query 2D - Immutable
- LeetCode 1109: Corporate Flight Bookings
- LeetCode 1139: Largest 1-Bordered Square
- 基础的二维前缀和与差分应用

#### 高手级（Hard）
- LeetCode 1074: Number of Submatrices That Sum to Target
- LeetCode 363: Max Sum of Rectangle No Larger Than K
- 需要结合其他算法的综合应用

### 3.3 按应用场景分类

#### 查询密集型
- 需要多次查询不同区域的和
- 适合使用前缀和算法
- 典型题目：LeetCode 303, 304

#### 更新密集型  
- 需要多次更新不同区域的值
- 适合使用差分数组算法
- 典型题目：LeetCode 370, 1109

#### 综合应用型
- 需要结合多种算法思想
- 通常需要优化时间复杂度
- 典型题目：LeetCode 1074, 363

## 四、训练建议

### 4.1 学习路径建议
1. **初级阶段**: 先掌握一维前缀和与差分
   - LeetCode 303, 370
   - 理解基本思想和时间复杂度分析

2. **中级阶段**: 学习二维前缀和与差分  
   - LeetCode 304, 1109
   - 掌握容斥原理的应用

3. **高级阶段**: 综合应用训练
   - LeetCode 1139, 1074
   - 学习算法组合和优化技巧

### 4.2 刷题顺序建议
1. 一维前缀和基础 → 2. 一维差分基础 → 3. 二维前缀和基础 → 4. 二维差分基础 → 5. 综合应用

### 4.3 重点题目推荐
- **必做题**: LeetCode 303, 304, 370, 1109
- **提高题**: LeetCode 1139, 1292  
- **挑战题**: LeetCode 1074, 363

通过系统练习这些题目，可以全面掌握前缀和与差分数组算法的应用技巧。