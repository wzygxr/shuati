# 树形动态规划 (Tree DP) 算法详解

## 📚 概述

本目录包含了完整的树形动态规划算法实现，涵盖了从基础到高级的各类树形DP问题。每个问题都提供了Java、C++、Python三种语言的完整实现，包含详细的注释、复杂度分析、单元测试和工程化考量。

## 🎯 已实现的算法

### 1. 最大BST子树 (Largest BST Subtree)
- **问题描述**: 在二叉树中找到最大的二叉搜索树子树
- **核心思路**: 维护每个节点的最大值、最小值、是否为BST、最大BST节点数
- **时间复杂度**: O(n)
- **空间复杂度**: O(h)
- **文件**: 
  - `Code01_LargestBstSubtree.java` / `.py` / `.cpp`

### 2. 二叉搜索子树的最大键值和 (Maximum Sum BST)
- **问题描述**: 找到二叉树中键值和最大的二叉搜索子树
- **核心思路**: 在最大BST子树基础上增加节点和的计算
- **时间复杂度**: O(n)
- **空间复杂度**: O(h)
- **文件**: 
  - `Code02_MaximumSumBst.java` / `.py` / `.cpp`

### 3. 二叉树的直径 (Diameter of Binary Tree)
- **问题描述**: 计算二叉树中任意两个节点之间最长路径的长度
- **核心思路**: 维护每个节点的左右子树深度，更新全局最大直径
- **时间复杂度**: O(n)
- **空间复杂度**: O(h)
- **文件**: 
  - `Code03_DiameterOfBinaryTree.java` / `.py` / `.cpp`

### 4. 分发硬币 (Distribute Coins)
- **问题描述**: 在二叉树中移动硬币，使每个节点恰好有1枚硬币
- **核心思路**: 计算每个节点的硬币盈余/赤字，移动次数等于绝对流动量之和
- **时间复杂度**: O(n)
- **空间复杂度**: O(h)
- **文件**: 
  - `Code04_DistributeCoins.java` / `.py` / `.cpp`

### 5. 舞会问题 (Dancing Problem)
- **问题描述**: 树的最大独立集应用，选择不相邻节点使快乐指数最大
- **核心思路**: 状态设计：选/不选当前节点，递归处理子树
- **时间复杂度**: O(n)
- **空间复杂度**: O(n)
- **文件**: 
  - `Code05_Dancing.java` / `.py` / `.cpp`

### 6. 二叉树监控 (Binary Tree Cameras)
- **问题描述**: 安装最少摄像头监控所有节点
- **核心思路**: 三种状态：未监控/被监控/安装摄像头，状态转移
- **时间复杂度**: O(n)
- **空间复杂度**: O(h)
- **文件**: 
  - `Code06_BinaryTreeCameras.java` / `.py` / `.cpp`

### 7. 路径总和 III (Path Sum III)
- **问题描述**: 计算路径和等于目标值的路径数目
- **核心思路**: 前缀和+哈希表，记录路径前缀和出现次数
- **时间复杂度**: O(n)
- **空间复杂度**: O(n)
- **文件**: 
  - `Code07_PathSumIII.java` / `.py` / `.cpp`

### 8. 树的最大独立集 (Tree Maximum Independent Set)
- **问题描述**: 选择不相邻节点使数量最多
- **核心思路**: 经典树形DP，状态转移方程
- **时间复杂度**: O(n)
- **空间复杂度**: O(n)
- **文件**: 
  - `Code08_TreeMaxIndependentSet.java` / `.py` / `.cpp`

### 9. 树的直径 (Tree Diameter)
- **问题描述**: 计算一般树的最长路径长度
- **核心思路**: 两次DFS/BFS或树形DP
- **时间复杂度**: O(n)
- **空间复杂度**: O(n)
- **文件**: 
  - `Code09_TreeDiameter.java` / `.py` / `.cpp`

### 10. 树的重心 (Tree Centroid)
- **问题描述**: 找到删除后使最大子树节点数最少的点
- **核心思路**: 计算子树大小，找到最优平衡点
- **时间复杂度**: O(n)
- **空间复杂度**: O(n)
- **文件**: 
  - `Code10_TreeCentroid.java` / `.py` / `.cpp`

## 🔧 快速开始

### Python 版本运行
```bash
# 运行单个算法
python Code01_LargestBstSubtree.py

# 运行单元测试
python -m unittest Code01_LargestBstSubtree.py

# 运行性能测试
python Code01_LargestBstSubtree.py
```

### Java 版本运行
```bash
# 编译
javac Code01_LargestBstSubtree.java

# 运行
java Code01_LargestBstSubtree

# 编译所有文件
javac *.java
```

### C++ 版本运行
```bash
# 编译（需要修复头文件问题）
g++ -std=c++11 Code01_LargestBstSubtree.cpp -o Code01_LargestBstSubtree

# 运行
./Code01_LargestBstSubtree
```

## 📊 算法特性对比

| 算法 | 时间复杂度 | 空间复杂度 | 最优解 | 应用场景 |
|------|------------|------------|--------|----------|
| 最大BST子树 | O(n) | O(h) | 是 | 数据结构验证 |
| 最大键值和BST | O(n) | O(h) | 是 | 优化问题 |
| 二叉树直径 | O(n) | O(h) | 是 | 网络拓扑 |
| 分发硬币 | O(n) | O(h) | 是 | 资源分配 |
| 最大独立集 | O(n) | O(n) | 是 | 组合优化 |
| 树直径 | O(n) | O(n) | 是 | 图论应用 |
| 树重心 | O(n) | O(n) | 是 | 平衡优化 |
| 路径总和III | O(n) | O(n) | 是 | 路径统计 |
| 二叉树监控 | O(n) | O(h) | 是 | 安全监控 |

## 🎯 学习路径

### 初学者路径
1. **基础理解**: 从二叉树直径开始，理解树形DP的基本思想
2. **状态设计**: 学习最大BST子树的状态设计模式
3. **复杂问题**: 逐步挑战路径总和III等复杂问题

### 进阶学习
1. **多语言实现**: 比较不同语言的实现差异
2. **性能优化**: 分析算法的时间空间复杂度
3. **实际应用**: 将算法应用到实际问题中

### 专家级别
1. **算法扩展**: 实现更多树形DP算法
2. **性能调优**: 优化大规模数据的处理效率
3. **工程应用**: 将算法集成到实际项目中

## 🔍 调试与测试

### 单元测试
每个算法都包含完整的单元测试，覆盖：
- 空树测试
- 单节点测试
- 简单结构测试
- 复杂结构测试
- 边界情况测试

### 性能测试
提供大规模数据测试，验证算法在10,000+节点树上的性能表现。

### 调试工具
包含可视化调试工具，帮助理解算法执行过程。

## 📚 相关资源

### 在线评测平台
- **LeetCode**: 提供相关题目的在线评测
- **洛谷**: 中文算法竞赛平台
- **HDU OJ**: 杭州电子科技大学在线评测系统

### 学习资料
- 《算法导论》树形动态规划章节
- 《算法竞赛入门经典》树形DP专题
- LeetCode树形DP题目集

### 扩展阅读
- 树形DP在图神经网络中的应用
- 动态规划在机器学习中的扩展
- 组合优化问题的树形解法

## 🚀 项目特色

### 代码质量
- **多语言支持**: Java, C++, Python完整实现
- **详细注释**: 每个函数和关键步骤都有详细说明
- **单元测试**: 完整的测试用例覆盖
- **性能优化**: 大规模数据下的高效运行

### 工程化特性
- **模块化设计**: 每个算法独立实现
- **错误处理**: 完善的异常处理机制
- **文档完整**: 详细的使用说明和算法原理

### 学习价值
- **从基础到高级**: 覆盖树形DP的各个方面
- **实战导向**: 每个算法都有实际应用背景
- **举一反三**: 掌握一类问题的解决方法

## 💡 核心收获

通过学习和实践本项目，您将掌握：

1. **树形动态规划**的核心思想和实现技巧
2. **多语言编程**的实践经验和最佳实践  
3. **算法优化**的方法和性能分析技巧
4. **工程化开发**的完整流程和质量控制
5. **问题解决**的系统性思维和方法论

## 🎉 开始学习

选择您感兴趣的语言和算法，开始您的树形动态规划学习之旅！

**推荐学习顺序**:
1. 二叉树的直径 (最基础)
2. 最大BST子树 (状态设计)
3. 路径总和III (前缀和优化)
4. 二叉树监控 (多状态DP)
5. 舞会问题 (最大独立集)

**祝您学习愉快！** 🚀