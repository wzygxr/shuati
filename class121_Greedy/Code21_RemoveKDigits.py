"""
移除K个数字 (Python版本)

题目描述：给定一个以字符串表示的非负整数 num，移除这个数中的 k 位数字，使得剩下的数字最小。
注意：输出不能含有前导零，但如果结果为0，必须保留这个零。

测试链接: https://leetcode.cn/problems/remove-k-digits/
"""

def remove_kdigits(num, k):
    """
    移除K个数字的贪心解法
    
    解题思路：
    1. 使用贪心策略，维护一个递增的序列
    2. 遍历字符串中的每一个字符，对于当前字符：
       a. 如果栈不为空，且栈顶元素大于当前字符，且还能移除数字（k>0），则弹出栈顶元素
       b. 将当前字符入栈
    3. 移除完k个数字后，如果还需要移除数字（可能序列是递增的），继续从栈顶移除
    4. 构建结果字符串，移除前导零
    5. 如果结果为空，返回"0"
    
    贪心策略的正确性：
    - 为了使剩下的数字最小，我们希望前面的数字尽可能小
    - 当遇到一个较小的数字时，如果前面有较大的数字且还能移除，应该移除前面较大的数字
    - 这样可以保证前面的位置上的数字尽可能小，从而使整个数字最小
    
    时间复杂度：O(n)，其中n是字符串的长度
    - 每个字符最多被入栈和出栈一次
    
    空间复杂度：O(n)，用于存储栈和结果字符串
    
    Args:
        num: str - 以字符串表示的非负整数
        k: int - 需要移除的数字个数
    
    Returns:
        str - 移除k个数字后得到的最小数字（字符串形式）
    """
    # 边界条件处理
    if not num:
        return "0"
    
    n = len(num)
    # 如果需要移除的数字个数大于等于字符串长度，结果为"0"
    if k >= n:
        return "0"

    # 使用列表模拟栈
    stack = []

    # 遍历字符串中的每一个字符
    for c in num:
        # 当栈不为空，且栈顶元素大于当前字符，且还能移除数字时，弹出栈顶元素
        while stack and stack[-1] > c and k > 0:
            stack.pop()
            k -= 1
        # 将当前字符入栈
        stack.append(c)

    # 如果还需要移除数字，从栈顶继续移除
    while k > 0:
        stack.pop()
        k -= 1

    # 移除前导零
    result = ''.join(stack).lstrip('0')

    # 如果结果为空，返回"0"
    return result if result else "0"


# 测试函数
def test():
    # 测试用例1
    # 输入: num = "1432219", k = 3
    # 输出: "1219"
    print("测试用例1结果:", remove_kdigits("1432219", 3))  # 期望输出: "1219"

    # 测试用例2
    # 输入: num = "10200", k = 1
    # 输出: "200"
    print("测试用例2结果:", remove_kdigits("10200", 1))  # 期望输出: "200"

    # 测试用例3
    # 输入: num = "10", k = 2
    # 输出: "0"
    print("测试用例3结果:", remove_kdigits("10", 2))  # 期望输出: "0"

    # 测试用例4：边界情况 - 递增序列
    # 输入: num = "12345", k = 2
    # 输出: "123"
    print("测试用例4结果:", remove_kdigits("12345", 2))  # 期望输出: "123"

    # 测试用例5：边界情况 - 递减序列
    # 输入: num = "54321", k = 2
    # 输出: "321"
    print("测试用例5结果:", remove_kdigits("54321", 2))  # 期望输出: "321"

    # 测试用例6：包含前导零的情况
    # 输入: num = "10001", k = 1
    # 输出: "0001" -> "1"
    print("测试用例6结果:", remove_kdigits("10001", 1))  # 期望输出: "1"

    # 测试用例7：更复杂的情况
    # 输入: num = "10200", k = 1
    # 输出: "200"
    print("测试用例7结果:", remove_kdigits("10200", 1))  # 期望输出: "200"


# 执行测试
if __name__ == "__main__":
    test()