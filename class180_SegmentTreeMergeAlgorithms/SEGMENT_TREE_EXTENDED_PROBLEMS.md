# 线段树算法扩展题目集合

## 一、新增基础线段树题目

### 1. 牛客网题目

#### 牛客网 NC78 线段树区间最大值
- **题目链接**: https://www.nowcoder.com/practice/1a834e5e3e1a4b7ba251417554e07c00
- **难度**: 中等
- **算法**: 线段树基础（区间最大值查询）

#### 牛客网 NC79 线段树区间和
- **题目链接**: https://www.nowcoder.com/practice/8b3b95850edb4115918ecebdf1b4d222
- **难度**: 中等
- **算法**: 线段树基础（区间和查询）

### 2. 杭电OJ题目

#### HDU 4027 Can you answer these queries?
- **题目链接**: http://acm.hdu.edu.cn/showproblem.php?pid=4027
- **难度**: 中等
- **算法**: 线段树+区间开方

#### HDU 4578 Transformation
- **题目链接**: http://acm.hdu.edu.cn/showproblem.php?pid=4578
- **难度**: 困难
- **算法**: 线段树+多种操作（加、乘、赋值）

### 3. 剑指Offer题目

#### 剑指Offer 51. 数组中的逆序对
- **题目链接**: https://leetcode.cn/problems/shu-zu-zhong-de-ni-xu-dui-lcof/
- **难度**: 困难
- **算法**: 线段树+离散化

## 二、新增高级线段树题目

### 1. 可持久化线段树

#### 洛谷 P3834 【模板】可持久化线段树1（主席树）
- **题目链接**: https://www.luogu.com.cn/problem/P3834
- **难度**: 困难
- **算法**: 可持久化线段树（静态区间第K小）

#### 洛谷 P3919 【模板】可持久化数组
- **题目链接**: https://www.luogu.com.cn/problem/P3919
- **难度**: 困难
- **算法**: 可持久化线段树

### 2. 扫描线算法

#### HDU 1542 Atlantis
- **题目链接**: http://acm.hdu.edu.cn/showproblem.php?pid=1542
- **难度**: 困难
- **算法**: 扫描线+线段树

#### HDU 1828 Picture
- **题目链接**: http://acm.hdu.edu.cn/showproblem.php?pid=1828
- **难度**: 困难
- **算法**: 扫描线+线段树（周长并）

### 3. 李超线段树

#### 洛谷 P4097 [HEOI2013] Segment
- **题目链接**: https://www.luogu.com.cn/problem/P4097
- **难度**: 困难
- **算法**: 李超线段树

### 4. 动态开点线段树

#### LeetCode 715. Range Module
- **题目链接**: https://leetcode.cn/problems/range-module/
- **难度**: 困难
- **算法**: 动态开点线段树

#### LeetCode 732. My Calendar III
- **题目链接**: https://leetcode.cn/problems/my-calendar-iii/
- **难度**: 困难
- **算法**: 动态开点线段树

## 三、新增线段树变种题目

### 1. 树状数组（Fenwick Tree）

#### LeetCode 307. Range Sum Query - Mutable（树状数组解法）
- **题目链接**: https://leetcode.cn/problems/range-sum-query-mutable/
- **难度**: 中等
- **算法**: 树状数组

#### LeetCode 315. Count of Smaller Numbers After Self（树状数组解法）
- **题目链接**: https://leetcode.cn/problems/count-of-smaller-numbers-after-self/
- **难度**: 困难
- **算法**: 树状数组+离散化

### 2. 线段树合并

#### 洛谷 P4556 [Vani有约会]雨天的尾巴
- **题目链接**: https://www.luogu.com.cn/problem/P4556
- **难度**: 困难
- **算法**: 线段树合并

#### 洛谷 P3224 [HNOI2012]永无乡
- **题目链接**: https://www.luogu.com.cn/problem/P3224
- **难度**: 困难
- **算法**: 线段树合并

### 3. 线段树分裂

#### 洛谷 P5494 【模板】线段树分裂
- **题目链接**: https://www.luogu.com.cn/problem/P5494
- **难度**: 困难
- **算法**: 线段树分裂

## 四、新增线段树应用题目

### 1. 线段树优化DP

#### Codeforces 474F. Ant colony
- **题目链接**: https://codeforces.com/problemset/problem/474/F
- **难度**: 困难
- **算法**: 线段树+GCD

#### Codeforces 689D. Friends and Subsequences
- **题目链接**: https://codeforces.com/problemset/problem/689/D
- **难度**: 困难
- **算法**: 线段树+二分

### 2. 线段树维护复杂信息

#### Codeforces 380C. Sereja and Brackets
- **题目链接**: https://codeforces.com/problemset/problem/380/C
- **难度**: 困难
- **算法**: 线段树维护括号序列

#### Codeforces 877E. Danil and a Part-time Job
- **题目链接**: https://codeforces.com/problemset/problem/877/E
- **难度**: 困难
- **算法**: 线段树+DFS序

## 五、新增线段树竞赛题目

### 1. ICPC/CCPC题目

#### ICPC World Finals 2014 Problem J: Sensor Network
- **题目链接**: https://icpc.global/worldfinals/problems/2014-ICPC-World-Finals
- **难度**: 极难
- **算法**: 线段树+扫描线

#### CCPC 2019 哈尔滨站 Problem I: Interesting Permutation
- **题目链接**: 竞赛题目
- **难度**: 困难
- **算法**: 线段树+组合数学

### 2. USACO题目

#### USACO Platinum 2019 February Contest, Problem 1: Cow Dating
- **题目链接**: https://usaco.org/index.php?page=viewproblem2&cpid=924
- **难度**: 困难
- **算法**: 线段树+概率

#### USACO Platinum 2020 January Contest, Problem 2: Non-Decreasing Subsequences
- **题目链接**: https://usaco.org/index.php?page=viewproblem2&cpid=997
- **难度**: 困难
- **算法**: 线段树+DP优化

## 六、新增线段树工程化题目

### 1. 实际应用场景

#### 数据库索引维护
- **场景**: B+树索引的区间查询优化
- **算法**: 线段树在数据库索引中的应用
- **复杂度**: O(log n) 查询效率

#### 实时数据流处理
- **场景**: 实时统计滑动窗口内的数据
- **算法**: 线段树在流处理中的应用
- **复杂度**: O(log n) 更新和查询

### 2. 机器学习应用

#### 特征工程中的分箱操作
- **场景**: 连续特征离散化
- **算法**: 线段树在特征分箱中的应用
- **复杂度**: O(n log n) 预处理

#### 强化学习中的状态空间划分
- **场景**: 状态空间的层次化组织
- **算法**: 线段树在状态空间划分中的应用
- **复杂度**: O(log n) 状态查询

## 七、题目实现计划

### 第一阶段：基础题目实现（1-2周）
1. 牛客网NC78、NC79
2. HDU 4027、4578
3. 剑指Offer 51

### 第二阶段：高级题目实现（2-3周）
1. 可持久化线段树题目
2. 扫描线算法题目
3. 李超线段树题目

### 第三阶段：变种题目实现（3-4周）
1. 树状数组题目
2. 线段树合并题目
3. 线段树分裂题目

### 第四阶段：应用题目实现（4-5周）
1. 线段树优化DP
2. 线段树维护复杂信息
3. 竞赛题目

## 八、代码规范要求

### 1. 代码结构
- 每个题目提供Java、C++、Python三种语言实现
- 统一的文件命名规范
- 清晰的代码组织结构

### 2. 注释要求
- 详细的算法思路注释
- 时间复杂度分析
- 空间复杂度分析
- 工程化考量说明

### 3. 测试要求
- 提供完整的测试用例
- 边界情况测试
- 性能测试基准

通过系统实现以上题目，可以全面掌握线段树算法的各种应用场景和优化技巧。